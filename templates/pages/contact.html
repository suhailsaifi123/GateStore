{% extends 'base.html' %}
{% load static %}

{% block title %}Contact Us | GateStore{% endblock %}

{% block content %}
<div class="contact-hero-bg py-5" data-aos="fade-up">
  <div class="container py-5">
    <div class="row justify-content-center">
      <div class="col-lg-8">
        <!-- Hero Icon -->
        <div class="text-center mb-4" data-aos="zoom-in">
          <div class="d-inline-flex align-items-center justify-content-center bg-primary bg-opacity-10 rounded-circle mb-3" style="width: 90px; height: 90px;">
            <i class="bi bi-envelope-paper-heart text-primary" style="font-size: 2.5rem;"></i>
          </div>
          <h1 class="display-5 fw-bold mb-2">Get in Touch</h1>
          <p class="lead text-muted">Have questions about our gates? We'd love to hear from you. Send us a message and we'll respond as soon as possible.</p>
        </div>
        <!-- Alert for form feedback -->
        {% if messages %}
        <div class="mb-4">
          {% for message in messages %}
            <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
              {{ message }}
              <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
          {% endfor %}
        </div>
        {% endif %}
        {% if message_sent %}
          <div class="alert alert-success alert-dismissible fade show" role="alert">
            <i class="bi bi-check-circle me-2"></i>Your message has been sent! We'll get back to you soon.
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
          </div>
        {% elif error %}
          <div class="alert alert-danger alert-dismissible fade show" role="alert">
            <i class="bi bi-exclamation-triangle me-2"></i>{{ error }}
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
          </div>
        {% endif %}
      </div>
    </div>
    <div class="row g-5 align-items-stretch">
      <!-- Contact Form -->
      <div class="col-lg-7" data-aos="fade-right">
        <div class="card border-0 shadow-lg h-100 rounded-4" data-aos="zoom-in" data-aos-delay="100">
          <div class="card-body p-5">
            <h3 class="mb-4 fw-semibold text-primary"><i class="bi bi-chat-dots me-2"></i>Send us a Message</h3>
            <form id="contactForm" method="post" class="needs-validation" novalidate>
              {% csrf_token %}
              <div class="row g-3">
                <div class="col-md-6">
                  <label for="name" class="form-label">Full Name *</label>
                  <input type="text" class="form-control rounded-3" id="name" name="name" required>
                  <div class="invalid-feedback">Please provide your full name.</div>
                </div>
                <div class="col-md-6">
                  <label for="email" class="form-label">Email Address *</label>
                  <input type="email" class="form-control rounded-3" id="email" name="email" required>
                  <div class="invalid-feedback">Please provide a valid email address.</div>
                </div>
                <div class="col-md-6">
                  <label for="phone" class="form-label">Phone Number</label>
                  <input type="tel" class="form-control rounded-3" id="phone" name="phone">
                </div>
                <div class="col-md-6">
                  <label for="subject" class="form-label">Subject *</label>
                  <select class="form-select rounded-3" id="subject" name="subject" required>
                    <option value="">Choose a subject</option>
                    <option value="general">General Inquiry</option>
                    <option value="quote">Request Quote</option>
                    <option value="support">Technical Support</option>
                    <option value="installation">Installation Question</option>
                    <option value="custom">Custom Design</option>
                  </select>
                  <div class="invalid-feedback">Please select a subject.</div>
                </div>
                <div class="col-12">
                  <label for="message" class="form-label">Message *</label>
                  <textarea class="form-control rounded-3" id="message" name="message" rows="5" required placeholder="Tell us about your project or question..."></textarea>
                  <div class="invalid-feedback">Please provide a message.</div>
                </div>
                <div class="col-12">
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="newsletter" name="newsletter">
                    <label class="form-check-label" for="newsletter">
                      Subscribe to our newsletter for updates and special offers
                    </label>
                  </div>
                </div>
                <div class="col-12">
                  <button type="submit" class="btn btn-primary btn-lg w-100 rounded-3 shadow-sm">
                    <i class="bi bi-send me-2"></i>Send Message
                  </button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
      <!-- Contact Information -->
      <div class="col-lg-5" data-aos="fade-left">
        <div class="card border-0 shadow-lg h-100 rounded-4 bg-white bg-opacity-75" data-aos="zoom-in" data-aos-delay="200">
          <div class="card-body p-5">
            <h3 class="mb-4 fw-semibold text-success"><i class="bi bi-info-circle me-2"></i>Contact Information</h3>
            <div class="d-flex align-items-start mb-4">
              <div class="bg-primary bg-opacity-10 rounded-circle d-flex align-items-center justify-content-center me-3" style="width: 50px; height: 50px;">
                <i class="bi bi-geo-alt text-primary"></i>
              </div>
              <div>
                <h6 class="mb-1">Address</h6>
                <p class="text-muted mb-0">Sonda Road Unchi Sadak<br>Modinagar<br>Ghaziabad, Uttar Pardesh 201201</p>
              </div>
            </div>
            <div class="d-flex align-items-start mb-4">
              <div class="bg-success bg-opacity-10 rounded-circle d-flex align-items-center justify-content-center me-3" style="width: 50px; height: 50px;">
                <i class="bi bi-telephone text-success"></i>
              </div>
              <div>
                <h6 class="mb-1">Phone</h6>
                <p class="text-muted mb-0">
                  <a href="tel:+9199175545440" class="text-decoration-none">+919917554540</a><br>
                  <small>Mon-Fri: 9AM-6PM IST</small>
                </p>
              </div>
            </div>
            <div class="d-flex align-items-start mb-4">
              <div class="bg-warning bg-opacity-10 rounded-circle d-flex align-items-center justify-content-center me-3" style="width: 50px; height: 50px;">
                <i class="bi bi-envelope text-warning"></i>
              </div>
              <div>
                <h6 class="mb-1">Email</h6>
                <p class="text-muted mb-0">
                  <a href="mailto:safinirazuddin@gmail.com" class="text-decoration-none">safinirazuddin@gmail.com</a><br>
                  <small>We respond within 24 hours</small>
                </p>
              </div>
            </div>
            <div class="d-flex align-items-start mb-4">
              <div class="bg-info bg-opacity-10 rounded-circle d-flex align-items-center justify-content-center me-3" style="width: 50px; height: 50px;">
                <i class="bi bi-clock text-info"></i>
              </div>
              <div>
                <h6 class="mb-1">Business Hours</h6>
                <p class="text-muted mb-0">
                  Monday - Friday: 9:00 AM - 6:00 PM<br>
                  Saturday: 10:00 AM - 4:00 PM<br>
                  Sunday: Closed
                </p>
              </div>
            </div>
            <hr class="my-4">
            <h6 class="mb-3">Follow Us</h6>
            <div class="d-flex gap-2">
              <a href="#" class="btn btn-outline-primary btn-sm rounded-circle social-hover"><i class="bi bi-facebook"></i></a>
              <a href="#" class="btn btn-outline-info btn-sm rounded-circle social-hover"><i class="bi bi-twitter"></i></a>
              <a href="#" class="btn btn-outline-danger btn-sm rounded-circle social-hover"><i class="bi bi-instagram"></i></a>
              <a href="#" class="btn btn-outline-primary btn-sm rounded-circle social-hover"><i class="bi bi-linkedin"></i></a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- FAQ Section -->
    <div class="mt-5" data-aos="fade-up">
      <div class="card border-0 shadow-sm rounded-4" data-aos="zoom-in" data-aos-delay="300">
        <div class="card-body p-4">
          <h3 class="mb-4 fw-semibold text-primary"><i class="bi bi-question-circle me-2"></i>Frequently Asked Questions</h3>
          <div class="accordion" id="contactFAQ">
            <div class="accordion-item border-0 mb-3">
              <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq1">
                  How long does installation take?
                </button>
              </h2>
              <div id="faq1" class="accordion-collapse collapse" data-bs-parent="#contactFAQ">
                <div class="accordion-body">
                  Installation typically takes 1-3 days depending on the complexity of the gate and site conditions. Our team will provide a detailed timeline during the consultation.
                </div>
              </div>
            </div>
            <div class="accordion-item border-0 mb-3">
              <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq2">
                  Do you offer warranty?
                </button>
              </h2>
              <div id="faq2" class="accordion-collapse collapse" data-bs-parent="#contactFAQ">
                <div class="accordion-body">
                  Yes, all our gates come with a comprehensive warranty covering materials and workmanship. We also offer extended warranty options for additional peace of mind.
                </div>
              </div>
            </div>
            <div class="accordion-item border-0">
              <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq3">
                  Can you customize gates to my specifications?
                </button>
              </h2>
              <div id="faq3" class="accordion-collapse collapse" data-bs-parent="#contactFAQ">
                <div class="accordion-body">
                  Absolutely! We specialize in custom gate designs. Our team will work with you to create a gate that perfectly matches your style and requirements.
                </div>
              </div>
            </div>
          </div>
          <div class="text-center mt-4">
            <a href="/faq/" class="btn btn-outline-primary">View All FAQs</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
.contact-hero-bg {
  background: linear-gradient(135deg, #f8fafc 0%, #e9f3fa 100%);
  min-height: 100vh;
}
.social-hover:hover {
  background: #0d6efd !important;
  color: #fff !important;
  border-color: #0d6efd !important;
  box-shadow: 0 2px 8px rgba(13,110,253,0.12);
  transition: all 0.2s;
}
</style>
{% endblock %}

{% block extra_js %}
<script>
// Form validation
(function() {
    'use strict';
    window.addEventListener('load', function() {
        var forms = document.getElementsByClassName('needs-validation');
        var validation = Array.prototype.filter.call(forms, function(form) {
            form.addEventListener('submit', function(event) {
                if (form.checkValidity() === false) {
                    event.preventDefault();
                    event.stopPropagation();
                }
                form.classList.add('was-validated');
            }, false);
        });
    }, false);
})();

// Contact form submission
document.getElementById('contactForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    if (this.checkValidity()) {
        const submitBtn = this.querySelector('button[type="submit"]');
        const originalText = submitBtn.innerHTML;
        
        // Show loading state
        submitBtn.disabled = true;
        submitBtn.innerHTML = '<span class="spinner-border spinner-border-sm me-2"></span>Sending...';
        
        // Simulate form submission
        setTimeout(() => {
            submitBtn.disabled = false;
            submitBtn.innerHTML = originalText;
            
            // Show success message
            const alertDiv = document.createElement('div');
            alertDiv.className = 'alert alert-success alert-dismissible fade show';
            alertDiv.innerHTML = `
                <i class="bi bi-check-circle me-2"></i>
                Thank you! Your message has been sent successfully. We'll get back to you within 24 hours.
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;
            
            this.parentNode.insertBefore(alertDiv, this);
            this.reset();
            this.classList.remove('was-validated');
        }, 2000);
    }
});
</script>
{% endblock %} 